<p align="left">
      <img src="https://i.ibb.co/cYzQsPG/logoza-ru.png" alt="Project Logo" width="726">
</p>

# Микросервис обработки сообщений
Задание выглядит так:

*Разработать микросервис на Go, который будет принимать сообщения через HTTP API,
сохранять их в PostgreSQL, а затем отправлять в Kafka для дальнейшей обработки.
Обработанные сообщения должны помечаться. Сервис должен также предоставлять
API для получения статистики по обработанным сообщениям.*

Непонятные моменты: кто читает сообщения из Kafka и кто их обрабатывает?

План:
1. Приложение А получает сообщения через HTTP API, сохраняет в БД и отправляет в Kafka.
2. Приложение Б ждет сообщений от Kafka, выполняет условную обработку, отправляет в Kafka сигнал, что сообщение обработано.
3. Приложение А ждет ответ от Kafka, получив ответ обновляет статус сообщения в БД.


### Настройка переменных окружения

```yaml
DB_HOST=db #хост бд
DB_PORT=5432    #порт бд
DB_NAME=admin #имя бд
DB_LOGIN=admin #логин для подключения к бд
DB_PASS=admin #пароль для подключения к бд
SERVER_HOST=0.0.0.0 #хост для работы сервера
SERVER_PORT=8080 #порт для работы сервера
SWAGGER_HOST=localhost
SWAGGER_PORT=8080
```
## Запуск контейнера
Собираем образ и поднимаем контейнер:

```golang
docker compose up
```

Поднимается 5 контейнеров zookeeper
